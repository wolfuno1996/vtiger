<div id="popup_settings_related_module" class="modal-settings" style="width: 600px"
     data-type="blocks" data-target="related_module" data-name="settings_related_module"
     data-template="layouts/vlayout/modules/QuotingTool/resources/js/views/popups/settings_related_module.html">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" id="myModalLabel">{{ 'Settings' | translate }}</h4>
    </div>
    <div class="modal-body">
        <div class="form">
            <table class="table_settings_related_module_fields">
                <tbody>
                <tr>
                    <th>{{ 'Related module' | translate }}</th>
                    <td>
                        <select id="settings_link_modules" class="quoting_tool-selector form-control"
                                ng-model="settings.related_module.link_module"
                                ng-options="module as module.label for module in app.data.selectedModule.link_modules"
                                ng-change="changeRelatedModule()">
                            <option>-- {{ 'Select' | translate }} --</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>{{ 'Fields' | translate }}</th>
                    <td>
                        <select id="settings_related_module_fields" class="quoting_tool-selector"
                                vtiger-select2='{"sortable": true}' multiple
                                ng-model="settings.related_module.item_fields"
                                ng-options="field as field.label group by field.block.label for field in settings.related_module.link_module.fields"
                                custom-option-attributes="settings.related_module.link_module.fields">
                            <option>-- {{ 'Select' | translate }} --</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <th>{{ 'Theme' | translate }}</th>
                    <td>
                        <label class="table-theme-label" ng-repeat="item in tableBlockTheme">
                            <input type="image"
                                   ng-src="{{item.image}}"
                                   ng-model="settings.related_module.theme"
                                   ng-click="changeLinkModuleTheme($event, item)"
                                   ng-class="{'selected': settings.related_module.theme == item}"
                                   alt="" class="table-theme-image">
                        </label>
                    </td>
                </tr>
                </tbody>
            </table>

        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary btn-submit" >{{ 'OK' | translate }}</button>
    </div>
</div>